!function(a){a.fn.Cloud=function(b){function j(a,b,c){return e="","googleDrive"in a&&(e+='<a class="g-savetodrive" data-src="'+c+'" data-filename="'+b+'" data-sitename="'+f+'"></a>'),"dropBox"in a&&(e+='<a href="'+c+'" class="dropbox-saver"></a>'),e}var d=(a(this),""),e="",f=a(document).attr("title"),g=window.location.href,h=g.substring(0,g.lastIndexOf("/"));onlyfilename="";var i=a.extend({googleDrive:"auto",dropBox:"a1jy330vpyki64r"},b);return this.each(function(){baseURL=h+"/"+a(this).data("file-link"),onlyfilename=h.match(/.*\/([^/]+)\.([^?]+)/i)[1],d=j(i,onlyfilename,baseURL),a(this).append(d)}).promise().then(function(){if("dropBox"in i){var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src","https://www.dropbox.com/static/api/2/dropins.js"),a.setAttribute("id","dropboxjs"),a.setAttribute("data-app-key",i.dropBox),document.getElementsByTagName("head")[0].appendChild(a)}if("googleDrive"in i){var b=document.createElement("script");b.setAttribute("src","https://apis.google.com/js/platform.js"),b.setAttribute("async",!0),b.setAttribute("defer",!0),document.getElementsByTagName("head")[0].appendChild(b)}})}}(jQuery);
